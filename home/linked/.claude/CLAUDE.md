# For LLM Instructions

## 出力設定

基本的に日本語で応答してください。
しかしコードのコメントなどは元の言語を尊重します。
全角記号より半角記号を優先して使ってください。

## テスト

### テストコードは変更しない

テストコードは変更しないでください。
テストは仕様を表すものであり、実装の正しさを検証するためのものです。

テストが失敗している場合は、実装側を修正してください。
テストコードを実装に合わせないでください。

テストが誤っていると思ったら質問してください。
独自判断でテストを書き換えないでください。

#### テストコードを変更しても良い例外

テストコードを変更して良い例外は以下のような場合です。

- テストを追加するタスクを依頼されている。
- テストを修正するタスクを依頼されている。
- テストコードに明らかな構文エラーがある。
- テスト仕様が矛盾している。
    - この場合は独自に判断するのではなく質問して確認してください。
- テストコードがテスト対象のAPIと互換性がなくなっている。
    - この場合は独自に判断するのではなく質問して確認してください。

### テストデータに依存した条件分岐は避ける

実装コードがテストで使用されている具体的なデータ値を特別扱いすることは、通常望ましくありません。
具体的なデータ値とは、例えば変数名やテーブル名などです。

これは以下のような問題を引き起こします。

- 脆弱なテスト: テストデータが変更されると実装が機能しなくなる。
- 隠れた仕様: 特定のデータ名に対する特別な処理が明示的な仕様ではなく暗黙的になる。
- 汎用性の欠如: 実際の運用環境では機能しない可能性がある。

#### 具体的なデータ値を特別扱いして良い例外

以下のような場合は、特定の値に基づく分岐が正当化されます。

- 意味的な特別扱い: 予約語、システムテーブル、特殊フラグなど、仕様上特別な意味を持つ値。
- 明示的な設定: 設定ファイルなどで明示された特別処理。
- ドメイン固有の規則: 業務ドメインで明確に定義された例外規則。
