# For LLM Instructions

## 出力設定

日本語で応答してください。
しかしコードのコメントなどは元の言語のままにしてください。

全角記号より半角記号を優先して使ってください。
特に全角括弧は禁止。

## 利用環境

基本的にOSにはNixOSの最新安定版を使っています。
テキストエディタにはEmacsを使っています。

## 利用するコマンド

### 推奨

* `fd`
* `ripgrep`

### 非推奨

* `cat`: 代わりにあなた自身がファイルを読み込んでください。
* `find`: 代わりに`fd`を使ってください。
* `grep`: 代わりに`ripgrep`を使ってください。

### 禁止

* `rm`: 代わりに`trash`を使ってください。

## 命名規則

### 意味のない単語の使用禁止

以下の要素、

- ファイル名
- ディレクトリ名
- モジュール名
- 関数名
- 変数名

などに `common` や `util` のような意味のない単語を使うのは禁止します。

それらの単語は乱用されていて意味がなくなっており、見ても何の意味を持っているのか分からないから。

## テスト

### テストコードは変更しない

テストコードの変更は基本的に禁止。
テストは仕様を表すものであり、実装の正しさを検証するためのものです。

テストが失敗している場合は、実装側を修正してください。
テストコードを実装に合わせるのは禁止。

テストが誤っていると思ったら質問してください。
独自判断でテストを書き換えるのは禁止。

#### テストコードを変更しても良い例外

テストコードを変更して良い例外は以下のような場合です。

- テストを追加するタスクを依頼されている。
- テストを修正するタスクを依頼されている。
- テストコードに明らかな構文エラーがある。
- テスト仕様が矛盾している。
    - この場合は独自に判断するのではなく質問して確認してください。
- テストコードがテスト対象のAPIと互換性がなくなっている。
    - この場合は独自に判断するのではなく質問して確認してください。

### テストデータに依存した条件分岐は避ける

実装コードがテストで使用されている具体的なデータ値を特別扱いすることは基本的に禁止。
具体的なデータ値とは、例えば変数名やテーブル名などです。

データに依存した実装は以下のような問題を引き起こします。

- 脆弱なテスト: テストデータが変更されると実装が機能しなくなる。
- 隠れた仕様: 特定のデータ名に対する特別な処理が明示的な仕様ではなく暗黙的になる。
- 汎用性の欠如: 実際の運用環境では機能しない可能性がある。
